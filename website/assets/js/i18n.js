// ASIN Scout Pro - Internationalization (i18n)
// Supports: English (en), Turkish (tr)
// Auto-detects user location, allows manual override

const translations = {
    en: {
        // Navigation
        nav_features: "Features",
        nav_pricing: "Pricing",
        nav_how_it_works: "How It Works",
        nav_login: "Login",
        nav_get_started: "Get Started Free",
        
        // Hero
        hero_title_1: "Extract",
        hero_title_2: "Every ASIN",
        hero_title_3: "from Amazon Stores",
        hero_subtitle: "The most powerful Amazon store scanner. Extract thousands of ASINs in minutes with our advanced Chrome extension.",
        hero_btn_start: "Start Free Trial",
        hero_btn_extension: "Install Extension",
        hero_stat_asins: "ASINs Scanned",
        hero_stat_users: "Happy Users",
        hero_stat_stores: "Stores Analyzed",
        
        // Features
        features_title: "Powerful Features",
        features_subtitle: "Everything you need to analyze Amazon stores",
        feature_1_title: "Lightning Fast",
        feature_1_desc: "Scan entire stores with thousands of products in just minutes, not hours.",
        feature_2_title: "Smart Detection",
        feature_2_desc: "Automatically detects store pages, search results, and bestseller lists.",
        feature_3_title: "All Marketplaces",
        feature_3_desc: "Works on all Amazon marketplaces: US, UK, DE, FR, IT, ES, JP, and more.",
        feature_4_title: "Export Options",
        feature_4_desc: "Export to TXT, Excel, or copy directly. Integrate with your workflow.",
        feature_5_title: "Spider Crawl",
        feature_5_desc: "Advanced crawling finds hidden products through related items.",
        feature_6_title: "Scan History",
        feature_6_desc: "Access all your past scans anytime. Download or re-analyze.",
        
        // How it works
        how_title: "How It Works",
        how_subtitle: "Start extracting ASINs in 3 simple steps",
        step_1_title: "Install Extension",
        step_1_desc: "Add our Chrome extension to your browser in one click.",
        step_2_title: "Open Amazon Store",
        step_2_desc: "Navigate to any Amazon seller store or search results page.",
        step_3_title: "Start Scanning",
        step_3_desc: "Click the extension and watch as ASINs are extracted automatically.",
        
        // Pricing
        pricing_title: "Simple Pricing",
        pricing_subtitle: "Choose your scan limit. Unlimited usage.",
        pricing_popular: "MOST POPULAR",
        pricing_starter: "Starter",
        pricing_pro: "Pro",
        pricing_business: "Business",
        pricing_limit: "ASINs per scan",
        pricing_scans: "scan limit",
        pricing_marketplaces: "All marketplaces",
        pricing_export: "Export to TXT/Excel",
        pricing_history: "Scan history",
        pricing_email_support: "Email support",
        pricing_unlimited_usage: "Unlimited usage",
        pricing_priority_support: "Priority support",
        pricing_api: "API access",
        pricing_24_7: "24/7 support",
        pricing_unlimited: "Unlimited history",
        pricing_all_formats: "All export formats",
        pricing_get_started: "Get Started",
        
        // Testimonials
        testimonials_title: "What Our Users Say",
        testimonials_subtitle: "Join thousands of satisfied Amazon sellers",
        
        // CTA
        cta_title: "Ready to Start Scanning?",
        cta_subtitle: "Start scanning Amazon stores today. Free trial available.",
        cta_btn: "Create Free Account â†’",
        
        // Footer
        footer_desc: "The most powerful Amazon ASIN extraction tool for sellers and researchers.",
        footer_product: "Product",
        footer_chrome: "Chrome Extension",
        footer_api_docs: "API Docs",
        footer_company: "Company",
        footer_about: "About Us",
        footer_contact: "Contact",
        footer_blog: "Blog",
        footer_legal: "Legal",
        footer_privacy: "Privacy Policy",
        footer_terms: "Terms of Service",
        footer_refund: "Refund Policy",
        footer_copyright: "Â© 2024 ASIN Scout Pro. All rights reserved.",
        
        // Dashboard
        dash_title: "Dashboard",
        dash_no_package: "No Active Package",
        dash_scan_limit: "Scan Limit",
        dash_asins_per_scan: "ASINs per scan",
        dash_expires: "Expires",
        dash_buy_package: "Buy a package â†’",
        dash_total_scans: "Total Scans",
        dash_total_asins: "Total ASINs",
        dash_recent_scans: "Recent Scans",
        dash_view_all: "View All",
        dash_no_scans: "No scans yet. Install the Chrome extension to start scanning!",
        dash_store: "Store",
        dash_asins: "ASINs",
        dash_status: "Status",
        dash_date: "Date",
        dash_view: "View",
        dash_loading: "Loading...",
        
        // Sidebar
        sidebar_dashboard: "ðŸ“Š Dashboard",
        sidebar_scans: "ðŸ“ My Scans",
        sidebar_buy: "ðŸ’³ Buy Package",
        sidebar_settings: "âš™ï¸ Settings",
        sidebar_logout: "ðŸšª Logout",
        
        // Auth
        auth_login: "Login",
        auth_register: "Create Account",
        auth_email: "Email",
        auth_password: "Password",
        auth_name: "Full Name",
        auth_forgot: "Forgot password?",
        auth_no_account: "Don't have an account?",
        auth_has_account: "Already have an account?",
        auth_sign_up: "Sign up",
        auth_sign_in: "Sign in",
        
        // Scans
        scans_title: "My Scans",
        scans_empty: "No scans yet. Install the Chrome extension to start scanning Amazon stores!",
        scans_search: "Search scans...",
        scans_download: "Download",
        scans_delete: "Delete",
        
        // Settings
        settings_title: "Settings",
        settings_profile: "Profile Settings",
        settings_save: "Save Changes",
        settings_password: "Change Password",
        settings_current_pass: "Current Password",
        settings_new_pass: "New Password",
        settings_confirm_pass: "Confirm Password",
        settings_update_pass: "Update Password"
    },
    tr: {
        // Navigation
        nav_features: "Ã–zellikler",
        nav_pricing: "Fiyatlar",
        nav_how_it_works: "NasÄ±l Ã‡alÄ±ÅŸÄ±r",
        nav_login: "GiriÅŸ Yap",
        nav_get_started: "Ãœcretsiz BaÅŸla",
        
        // Hero
        hero_title_1: "Amazon MaÄŸazalarÄ±ndan",
        hero_title_2: "TÃ¼m ASIN'leri",
        hero_title_3: "Ã‡Ä±karÄ±n",
        hero_subtitle: "En gÃ¼Ã§lÃ¼ Amazon maÄŸaza tarayÄ±cÄ±sÄ±. GeliÅŸmiÅŸ Chrome eklentimizle dakikalar iÃ§inde binlerce ASIN Ã§Ä±karÄ±n.",
        hero_btn_start: "Ãœcretsiz Dene",
        hero_btn_extension: "Eklentiyi YÃ¼kle",
        hero_stat_asins: "Taranan ASIN",
        hero_stat_users: "Mutlu KullanÄ±cÄ±",
        hero_stat_stores: "Analiz Edilen MaÄŸaza",
        
        // Features
        features_title: "GÃ¼Ã§lÃ¼ Ã–zellikler",
        features_subtitle: "Amazon maÄŸazalarÄ±nÄ± analiz etmek iÃ§in ihtiyacÄ±nÄ±z olan her ÅŸey",
        feature_1_title: "IÅŸÄ±k HÄ±zÄ±nda",
        feature_1_desc: "Binlerce Ã¼rÃ¼n iÃ§eren maÄŸazalarÄ± saatler deÄŸil, dakikalar iÃ§inde tarayÄ±n.",
        feature_2_title: "AkÄ±llÄ± AlgÄ±lama",
        feature_2_desc: "MaÄŸaza sayfalarÄ±nÄ±, arama sonuÃ§larÄ±nÄ± ve Ã§ok satanlarÄ± otomatik algÄ±lar.",
        feature_3_title: "TÃ¼m Pazaryerleri",
        feature_3_desc: "TÃ¼m Amazon pazaryerlerinde Ã§alÄ±ÅŸÄ±r: US, UK, DE, FR, TR ve daha fazlasÄ±.",
        feature_4_title: "DÄ±ÅŸa Aktarma",
        feature_4_desc: "TXT, Excel'e aktarÄ±n veya doÄŸrudan kopyalayÄ±n. Ä°ÅŸ akÄ±ÅŸÄ±nÄ±za entegre edin.",
        feature_5_title: "Ã–rÃ¼mcek Tarama",
        feature_5_desc: "GeliÅŸmiÅŸ tarama, ilgili Ã¼rÃ¼nler Ã¼zerinden gizli Ã¼rÃ¼nleri bulur.",
        feature_6_title: "Tarama GeÃ§miÅŸi",
        feature_6_desc: "TÃ¼m geÃ§miÅŸ taramalarÄ±nÄ±za istediÄŸiniz zaman eriÅŸin.",
        
        // How it works
        how_title: "NasÄ±l Ã‡alÄ±ÅŸÄ±r",
        how_subtitle: "3 basit adÄ±mda ASIN Ã§Ä±karmaya baÅŸlayÄ±n",
        step_1_title: "Eklentiyi YÃ¼kle",
        step_1_desc: "Chrome eklentimizi tek tÄ±kla tarayÄ±cÄ±nÄ±za ekleyin.",
        step_2_title: "Amazon MaÄŸazasÄ± AÃ§",
        step_2_desc: "Herhangi bir Amazon satÄ±cÄ± maÄŸazasÄ±na veya arama sonuÃ§larÄ±na gidin.",
        step_3_title: "TaramayÄ± BaÅŸlat",
        step_3_desc: "Eklentiye tÄ±klayÄ±n ve ASIN'lerin otomatik Ã§Ä±karÄ±lmasÄ±nÄ± izleyin.",
        
        // Pricing
        pricing_title: "Basit FiyatlandÄ±rma",
        pricing_subtitle: "Tarama limitinizi seÃ§in. SÄ±nÄ±rsÄ±z kullanÄ±m.",
        pricing_popular: "EN POPÃœLER",
        pricing_starter: "BaÅŸlangÄ±Ã§",
        pricing_pro: "Profesyonel",
        pricing_business: "Ä°ÅŸletme",
        pricing_limit: "taramada ASIN",
        pricing_scans: "tarama limiti",
        pricing_marketplaces: "TÃ¼m pazaryerleri",
        pricing_export: "TXT/Excel'e aktar",
        pricing_history: "Tarama geÃ§miÅŸi",
        pricing_email_support: "Email desteÄŸi",
        pricing_unlimited_usage: "SÄ±nÄ±rsÄ±z kullanÄ±m",
        pricing_priority_support: "Ã–ncelikli destek",
        pricing_api: "API eriÅŸimi",
        pricing_24_7: "7/24 destek",
        pricing_unlimited: "SÄ±nÄ±rsÄ±z geÃ§miÅŸ",
        pricing_all_formats: "TÃ¼m formatlar",
        pricing_get_started: "BaÅŸla",
        
        // Testimonials
        testimonials_title: "KullanÄ±cÄ±larÄ±mÄ±z Ne Diyor",
        testimonials_subtitle: "Binlerce memnun Amazon satÄ±cÄ±sÄ±na katÄ±lÄ±n",
        
        // CTA
        cta_title: "Taramaya HazÄ±r mÄ±sÄ±nÄ±z?",
        cta_subtitle: "Amazon maÄŸazalarÄ±nÄ± taramaya bugÃ¼n baÅŸlayÄ±n. Ãœcretsiz deneme mevcut.",
        cta_btn: "Ãœcretsiz Hesap OluÅŸtur â†’",
        
        // Footer
        footer_desc: "SatÄ±cÄ±lar ve araÅŸtÄ±rmacÄ±lar iÃ§in en gÃ¼Ã§lÃ¼ Amazon ASIN Ã§Ä±karma aracÄ±.",
        footer_product: "ÃœrÃ¼n",
        footer_chrome: "Chrome Eklentisi",
        footer_api_docs: "API DokÃ¼mantasyonu",
        footer_company: "Åžirket",
        footer_about: "HakkÄ±mÄ±zda",
        footer_contact: "Ä°letiÅŸim",
        footer_blog: "Blog",
        footer_legal: "Yasal",
        footer_privacy: "Gizlilik PolitikasÄ±",
        footer_terms: "KullanÄ±m ÅžartlarÄ±",
        footer_refund: "Ä°ade PolitikasÄ±",
        footer_copyright: "Â© 2024 ASIN Scout Pro. TÃ¼m haklarÄ± saklÄ±dÄ±r.",
        
        // Dashboard
        dash_title: "Kontrol Paneli",
        dash_no_package: "Aktif Paket Yok",
        dash_scan_limit: "Tarama Limiti",
        dash_asins_per_scan: "tarama baÅŸÄ±na ASIN",
        dash_expires: "BitiÅŸ Tarihi",
        dash_buy_package: "Paket satÄ±n al â†’",
        dash_total_scans: "Toplam Tarama",
        dash_total_asins: "Toplam ASIN",
        dash_recent_scans: "Son Taramalar",
        dash_view_all: "TÃ¼mÃ¼nÃ¼ GÃ¶r",
        dash_no_scans: "HenÃ¼z tarama yok. Taramaya baÅŸlamak iÃ§in Chrome eklentisini yÃ¼kleyin!",
        dash_store: "MaÄŸaza",
        dash_asins: "ASIN",
        dash_status: "Durum",
        dash_date: "Tarih",
        dash_view: "GÃ¶rÃ¼ntÃ¼le",
        dash_loading: "YÃ¼kleniyor...",
        
        // Sidebar
        sidebar_dashboard: "ðŸ“Š Kontrol Paneli",
        sidebar_scans: "ðŸ“ TaramalarÄ±m",
        sidebar_buy: "ðŸ’³ Paket Al",
        sidebar_settings: "âš™ï¸ Ayarlar",
        sidebar_logout: "ðŸšª Ã‡Ä±kÄ±ÅŸ",
        
        // Auth
        auth_login: "GiriÅŸ Yap",
        auth_register: "Hesap OluÅŸtur",
        auth_email: "E-posta",
        auth_password: "Åžifre",
        auth_name: "Ad Soyad",
        auth_forgot: "Åžifremi unuttum",
        auth_no_account: "HesabÄ±nÄ±z yok mu?",
        auth_has_account: "Zaten hesabÄ±nÄ±z var mÄ±?",
        auth_sign_up: "Kaydol",
        auth_sign_in: "GiriÅŸ yap",
        
        // Scans
        scans_title: "TaramalarÄ±m",
        scans_empty: "HenÃ¼z tarama yok. Amazon maÄŸazalarÄ±nÄ± taramak iÃ§in Chrome eklentisini yÃ¼kleyin!",
        scans_search: "Tarama ara...",
        scans_download: "Ä°ndir",
        scans_delete: "Sil",
        
        // Settings
        settings_title: "Ayarlar",
        settings_profile: "Profil AyarlarÄ±",
        settings_save: "DeÄŸiÅŸiklikleri Kaydet",
        settings_password: "Åžifre DeÄŸiÅŸtir",
        settings_current_pass: "Mevcut Åžifre",
        settings_new_pass: "Yeni Åžifre",
        settings_confirm_pass: "Åžifre Tekrar",
        settings_update_pass: "Åžifreyi GÃ¼ncelle"
    }
};

// Get user's language preference
function getUserLanguage() {
    // 1. Check localStorage for manual preference
    const saved = localStorage.getItem('asin_lang');
    if (saved && translations[saved]) return saved;
    
    // 2. Check browser language
    const browserLang = navigator.language.slice(0, 2).toLowerCase();
    if (translations[browserLang]) return browserLang;
    
    // 3. Default to English
    return 'en';
}

// Set language
function setLanguage(lang) {
    if (!translations[lang]) lang = 'en';
    localStorage.setItem('asin_lang', lang);
    document.documentElement.lang = lang;
    applyTranslations(lang);
    updateLanguageSelector(lang);
}

// Apply translations to page
function applyTranslations(lang) {
    const t = translations[lang];
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (t[key]) {
            if (el.tagName === 'INPUT' && el.placeholder) {
                el.placeholder = t[key];
            } else {
                el.textContent = t[key];
            }
        }
    });
    
    // Update HTML attributes
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        if (t[key]) el.placeholder = t[key];
    });
}

// Update language selector UI
function updateLanguageSelector(lang) {
    const selector = document.getElementById('langSelector');
    if (selector) selector.value = lang;
    
    // Update flag buttons if exist
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.lang === lang);
    });
}

// Get translation
function t(key) {
    const lang = getUserLanguage();
    return translations[lang][key] || translations.en[key] || key;
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
    const lang = getUserLanguage();
    applyTranslations(lang);
    updateLanguageSelector(lang);
});

// Auto-detect on first visit based on timezone/location
if (!localStorage.getItem('asin_lang')) {
    const tz = Intl.DateTimeFormat().resolvedOptions().timeZone || '';
    if (tz.includes('Istanbul') || tz.includes('Turkey')) {
        setLanguage('tr');
    }
}
